<cc-panel>
  <header>
    Judge #{{index + 1}}
    <button class="btn btn-xs btn-danger pull-right" (click)="onRemoveJudge()">Remove</button>
  </header>
  <div class="row">
    <div class="col-md-12">
      <form [formGroup]="judgeForm" (submit)="onSubmit()">
        <div
          class="form-group"
          [ngClass]="{
            'has-error': judgeForm.controls.name.dirty && judgeForm.controls.name.invalid,
            'has-success': judgeForm.controls.name.dirty && judgeForm.controls.name.valid && editing
          }"
        >
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name" placeholder="Judge's Name" formControlName="name">
          <span
            class="error-text"
            *ngIf="judgeForm.controls.name.dirty && judgeForm.controls.name.errors?.required"
          >Name is required</span>
        </div>
        <div
          class="form-group"
          [ngClass]="{
            'has-error': judgeForm.controls.email.dirty && judgeForm.controls.email.invalid,
            'has-success': judgeForm.controls.email.dirty && judgeForm.controls.email.valid && editing
          }"
        >
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email">
          <span
            class="error-text"
            *ngIf="judgeForm.controls.email.dirty && judgeForm.controls.email.errors?.incorrectMailFormat"
          >
            Invalid Email Address
          </span>
          <span
            class="error-text"
            *ngIf="judgeForm.controls.email.dirty && judgeForm.controls.email.errors?.required"
          >
            Email is required
          </span>
        </div>
        <button class="btn btn-default pull-right" type="button" *ngIf="editing" (click)="onCancel()">Cancel</button>
        <button class="btn btn-primary pull-right" type="submit" *ngIf="editing" [disabled]="!judgeForm.valid">Save</button>
        <button class="btn btn-primary pull-right" type="button" (click)="onEdit()" *ngIf="!editing">Edit</button>
      </form>
    </div>
  </div>
</cc-panel>
